// Test sock_redirect with invalid socket handle
// Should return -1 for invalid handle

var result = true;
// Get platform-appropriate process path
var process_path = "";
if (os() == "win") {
    process_path = env("COMSPEC");
} else if (os() == "linux") {
    process_path = env("SHELL");
}

var result = sock_redirect(-1, process_path);
print("Result with invalid handle:", result);
if (result == -1) { print("PASS"); }
